STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 1  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

   1                         STM8/     
   2  000000                                 WORDS                  ; The following addresses are 16
                                                                ; bits long
   3                                   segment  byte at 4000-43FF 'EEPROM'
   4                         
   5  004000                                 WORDS                  ; The following addresses are 16
                                                                ; bits long
   6                                   segment  byte at 8080-FFFF 'ROM'
   7                         
   8  008080                                 WORDS                  ; The following addresses are 16
                                                                ; bits long
   9                                   segment  byte at 8000-807F 'INTERRUPT'
  10                         ;Start with stm8s105c6(First Project)
  11                         ;=======Register==============================
  12  005000                       PORTA     EQU      $5000
  13  005001                       PINA      EQU      $5001
  14  005002                       DDRA      EQU      $5002
  15  005003                       CR1A      EQU      $5003
  16  005004                       CR2A      EQU      $5004
  17                         
  18  005005                       PORTB     EQU      $5005
  19  005006                       PINB      EQU      $5006
  20  005007                       DDRB      EQU      $5007
  21  005008                       CR1B      EQU      $5008
  22  005009                       CR2B      EQU      $5009
  23                         
  24  00500A                       PORTC     EQU      $500A
  25  00500B                       PINC      EQU      $500B
  26  00500C                       DDRC      EQU      $500C
  27  00500D                       CR1C      EQU      $500D
  28  00500E                       CR2C      EQU      $500E
  29                         
  30  00500F                       PORTD     EQU      $500F
  31  005010                       PIND      EQU      $5010
  32  005011                       DDRD      EQU      $5011
  33  005012                       CR1D      EQU      $5012
  34  005013                       CR2D      EQU      $5013
  35                         
  36  005014                       PORTE     EQU      $5014
  37  005015                       PINE      EQU      $5015
  38  005016                       DDRE      EQU      $5016
  39  005017                       CR1E      EQU      $5017
  40  005018                       CR2E      EQU      $5018
  41                         
  42  00501E                       PORTG     EQU      $501E
  43  00501F                       PING      EQU      $501F
  44  005020                       DDRG      EQU      $5020
  45  005021                       CR1G      EQU      $5021
  46  005022                       CR2G      EQU      $5022
  47                         
  48                         ;==========================
  49  0050A0                       EXTI_CR1  EQU      $50A0         ; External interrupt control 
                                                                ;register 1 0x00
  50  0050A1                       EXTI_CR2  EQU      $50A1         ; External interrupt control 
                                                                ;register 2 0x00
  51  0050B3                       RST_SR    EQU      $50B3         ; Reset status register 0xXX
  52                         ;==========================
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 2  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

  53  0050C0                       CLK_ICKR  EQU      $50C0         ; Internal clock control 
                                                                ;register         0x01
  54  0050C1                       CLK_ECKR  EQU      $50C1         ; External clock control 
                                                                ;register         0x00
  55  0050C3                       CLK_CMSR  EQU      $50C3         ; Clock master status register  
                                                                ;          0xE1
  56  0050C4                       CLK_SWR   EQU      $50C4         ; Clock master switch register  
                                                                ;          0xE1
  57  0050C5                       CLK_SWCR  EQU      $50C5         ; Clock switch control register 
                                                                ;          0xXX
  58  0050C6                       CLK_CKDIVR  EQU      $50C6         ; Clock divider register        
                                                                ;          0x18
  59  0050C7                       CLK_PCKENR1  EQU      $50C7         ; Peripheral clock gating 
                                                                ;register 1      0xFF
  60  0050C8                       CLK_CSSR  EQU      $50C8         ; Clock security system register
                                                                ;          0x00
  61  0050C9                       CLK_CCOR  EQU      $50C9         ; Configurable clock control 
                                                                ;register     0x00
  62  0050CA                       CLK_PCKENR2  EQU      $50CA         ; Peripheral clock gating 
                                                                ;register 2      0xFF
  63  0050CB                       CLK_CANCCR  EQU      $50CB         ; CAN clock control register    
                                                                ;          0x00
  64  0050CC                       CLK_HSITRIMR  EQU      $50CC         ; HSI clock calibration trimming
                                                                ; register 0x00
  65  0050CD                       CLK_SWIMCCR  EQU      $50CD         ; SWIM clock control register   
                                                                ;          0bXXXX XXX0
  66                         ;==========================
  67  005230                       UART1_SR  EQU      $5230         ; UART1 status register       
                                                                ;0xC0
  68  005231                       UART1_DR  EQU      $5231         ; UART1 data register         
                                                                ;0xXX
  69  005232                       UART1_BRR1  EQU      $5232         ; UART1 baud rate register    
                                                                ;0x00
  70  005233                       UART1_BRR2  EQU      $5233         ; UART1 baud rate register    
                                                                ;0x00
  71  005234                       UART1_CR1  EQU      $5234         ; UART1 control register 1    
                                                                ;0x00
  72  005235                       UART1_CR2  EQU      $5235         ; UART1 control register 2    
                                                                ;0x00
  73  005236                       UART1_CR3  EQU      $5236         ; UART1 control register 3    
                                                                ;0x00
  74  005237                       UART1_CR4  EQU      $5237         ; UART1 control register 4    
                                                                ;0x00
  75  005238                       UART1_CR5  EQU      $5238         ; UART1 control register 5    
                                                                ;0x00
  76  005239                       UART1_GTR  EQU      $5239         ; UART1 guard time register   
                                                                ;0x00
  77  00523A                       UART1_PSCR  EQU      $523A         ; UART1 prescaler register    
                                                                ;0x00
  78                         
  79  000000                       SBK       EQU      0             ; Send break
  80  000001                       RWU       EQU      1             ; Receiver wakeup
  81  000002                       REN       EQU      2             ; Receiver enable
  82  000003                       TEN       EQU      3             ; Transmitter enable
  83  000004                       ILIEN     EQU      4             ; IDLE Line interrupt enable
  84  000005                       RIEN      EQU      5             ; Receiver interrupt enable
  85  000006                       TCIEN     EQU      6             ; Transmission complete 
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 3  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

                                                                ;interrupt enable
  86  000007                       TIEN      EQU      7             ; Transmitter interrupt enable
  87                         
  88  000006                       TC        EQU      6             ; Transmission complete
  89                         ;==========================
  90  005200                       SPI_CR1   EQU      $5200         ; SPI control register 1        
                                                                ;  0x00
  91  005201                       SPI_CR2   EQU      $5201         ; SPI control register 2        
                                                                ;  0x00
  92  005202                       SPI_ICR   EQU      $5202         ; SPI interrupt control register
                                                                ;  0x00
  93  005203                       SPI_SR    EQU      $5203         ; SPI status register           
                                                                ;  0x02
  94  005204                       SPI_DR    EQU      $5204         ; SPI data register             
                                                                ;  0x00
  95  005205                       SPI_CRCPR  EQU      $5205         ; SPI CRC polynomial register   
                                                                ;  0x07
  96  005206                       SPI_RXCRCR  EQU      $5206         ; SPI Rx CRC register           
                                                                ;  0xFF
  97  005207                       SPI_TXCRCR  EQU      $5207         ; SPI Tx CRC register           
                                                                ;  0xFF
  98                         ;==========================
  99  00505A                       FLASH_CR1  EQU      $505A         ; Flash control register 1      
                                                                ;                   0x00
 100  00505B                       FLASH_CR2  EQU      $505B         ; Flash control register 2      
                                                                ;                   0x00
 101  00505C                       FLASH_NCR2  EQU      $505C         ; Flash complementary control 
                                                                ;register 2           0xFF
 102  00505D                       FLASH_FPR  EQU      $505D         ; Flash protection register     
                                                                ;                   0x00
 103  00505E                       FLASH_NFPR  EQU      $505E         ; Flash complementary protection
                                                                ; register          0xFF
 104  00505F                       FLASH_IAPSR  EQU      $505F         ; Flash in-application 
                                                                ;programming status register 
                                                                ;0x00
 105  005062                       FLASH_PUKR  EQU      $5062         ; Flash program memory 
                                                                ;unprotection register       
                                                                ;0x00
 106  005064                       FLASH_DUKR  EQU      $5064         ; Data EEPROM unprotection 
                                                                ;register                0x00
 107                         ;==========================
 108  0050D1                       WWDG_CR   EQU      $50D1         ; WWDG control register         
                                                                ;             0x7F
 109  0050D2                       WWDG_WR   EQU      $50D2         ; WWDR window register          
                                                                ;             0x7F
 110  0050E0                       IWDG_KR   EQU      $50E0         ; IWDG key register             
                                                                ;             0xXX
 111  0050E1                       IWDG_PR   EQU      $50E1         ; IWDG prescaler register       
                                                                ;             0x00
 112  0050E2                       IWDG_RLR  EQU      $50E2         ; IWDG reload register          
                                                                ;             0xFF
 113  0050F0                       AWU_CSR1  EQU      $50F0         ; AWU control/status register 1 
                                                                ;             0x00
 114  0050F1                       AWU_APR   EQU      $50F1         ; AWU asynchronous prescaler 
                                                                ;buffer register 0x3F
 115  0050F2                       AWU_TBR   EQU      $50F2         ; AWU timebase selection 
                                                                ;register            0x00
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 4  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 116  0050F3                       BEEP_CSR  EQU      $50F3         ; BEEP control/status register  
                                                                ;             0x1F
 117                         ;==========================
 118  005250                       TIM1_CR1  EQU      $5250         ; TIM1 control register 1       
                                                                ;         0x00
 119  005251                       TIM1_CR2  EQU      $5251         ; TIM1 control register 2       
                                                                ;         0x00
 120  005252                       TIM1_SMCR  EQU      $5252         ; TIM1 slave mode control 
                                                                ;register       0x00
 121  005253                       TIM1_ETR  EQU      $5253         ; TIM1 external trigger register
                                                                ;         0x00
 122  005254                       TIM1_IER  EQU      $5254         ; TIM1 interrupt enable register
                                                                ;         0x00
 123  005255                       TIM1_SR1  EQU      $5255         ; TIM1 status register 1        
                                                                ;         0x00
 124  005256                       TIM1_SR2  EQU      $5256         ; TIM1 status register 2        
                                                                ;         0x00
 125  005257                       TIM1_EGR  EQU      $5257         ; TIM1 event generation register
                                                                ;         0x00
 126  005258                       TIM1_CCMR1  EQU      $5258         ; TIM1 capture/compare mode 
                                                                ;register 1   0x00
 127  005259                       TIM1_CCMR2  EQU      $5259         ; TIM1 capture/compare mode 
                                                                ;register 2   0x00
 128  00525A                       TIM1_CCMR3  EQU      $525A         ; TIM1 capture/compare mode 
                                                                ;register 3   0x00
 129  00525B                       TIM1_CCMR4  EQU      $525B         ; TIM1 capture/compare mode 
                                                                ;register 4   0x00
 130  00525C                       TIM1_CCER1  EQU      $525C         ; TIM1 capture/compare enable 
                                                                ;register 1 0x00
 131  00525D                       TIM1_CCER2  EQU      $525D         ; TIM1 capture/compare enable 
                                                                ;register 2 0x00
 132  00525E                       TIM1_CNTRH  EQU      $525E         ; TIM1 counter high             
                                                                ;         0x00
 133  00525F                       TIM1_CNTRL  EQU      $525F         ; TIM1 counter low              
                                                                ;         0x00
 134  005260                       TIM1_PSCRH  EQU      $5260         ; TIM1 prescaler register high  
                                                                ;         0x00
 135  005261                       TIM1_PSCRL  EQU      $5261         ; TIM1 prescaler register low   
                                                                ;         0x00
 136  005262                       TIM1_ARRH  EQU      $5262         ; TIM1 auto-reload register high
                                                                ;         0xFF
 137  005263                       TIM1_ARRL  EQU      $5263         ; TIM1 auto-reload register low 
                                                                ;         0xFF
 138  005264                       TIM1_RCR  EQU      $5264         ; TIM1 repetition counter 
                                                                ;register       0x00
 139  005265                       TIM1_CCR1H  EQU      $5265         ; TIM1 capture/compare register 
                                                                ;1 high   0x00
 140  005266                       TIM1_CCR1L  EQU      $5266         ; TIM1 capture/compare register 
                                                                ;1 low    0x00
 141  005267                       TIM1_CCR2H  EQU      $5267         ; TIM1 capture/compare register 
                                                                ;2 high   0x00
 142  005268                       TIM1_CCR2L  EQU      $5268         ; TIM1 capture/compare register 
                                                                ;2 low    0x00
 143  005269                       TIM1_CCR3H  EQU      $5269         ; TIM1 capture/compare register 
                                                                ;3 high   0x00
 144  00526A                       TIM1_CCR3L  EQU      $526A         ; TIM1 capture/compare register 
                                                                ;3 low    0x00
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 5  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 145  00526B                       TIM1_CCR4H  EQU      $526B         ; TIM1 capture/compare register 
                                                                ;4 high   0x00
 146  00526C                       TIM1_CCR4L  EQU      $526C         ; TIM1 capture/compare register 
                                                                ;4 low    0x00
 147  00526D                       TIM1_BKR  EQU      $526D         ; TIM1 break register           
                                                                ;         0x00
 148  00526E                       TIM1_DTR  EQU      $526E         ; TIM1 dead-time register       
                                                                ;         0x00
 149  00526F                       TIM1_OISR  EQU      $526F         ; TIM1 output idle state 
                                                                ;register        0x00
 150                         ;==========================
 151  005300                       TIM2_CR1  EQU      $5300         ; TIM2 control register 1       
                                                                ;          0x00
 152  005301                       TIM2_IER  EQU      $5301         ; TIM2 Interrupt enable register
                                                                ;          0x00
 153  005302                       TIM2_SR1  EQU      $5302         ; TIM2 status register 1        
                                                                ;          0x00
 154  005303                       TIM2_SR2  EQU      $5303         ; TIM2 status register 2        
                                                                ;          0x00
 155  005304                       TIM2_EGR  EQU      $5304         ; TIM2 event generation register
                                                                ;          0x00
 156  005305                       TIM2_CCMR1  EQU      $5305         ; TIM2 capture/compare mode 
                                                                ;register 1    0x00
 157  005306                       TIM2_CCMR2  EQU      $5306         ; TIM2 capture/compare mode 
                                                                ;register 2    0x00
 158  005307                       TIM2_CCMR3  EQU      $5307         ; TIM2 capture/compare mode 
                                                                ;register 3    0x00
 159  005308                       TIM2_CCER1  EQU      $5308         ; TIM2 capture/compare enable 
                                                                ;register 1  0x00
 160  005309                       TIM2_CCER2  EQU      $5309         ; TIM2 capture/compare enable 
                                                                ;register 2  0x00
 161  00530A                       TIM2_CNTRH  EQU      $530A         ; TIM2 counter high             
                                                                ;          0x00
 162  00530B                       TIM2_CNTRL  EQU      $530B         ; TIM2 counter low              
                                                                ;          0x00
 163  00530C                       TIM2_PSCR  EQU      $530C         ; TIM2 prescaler register       
                                                                ;          0x00
 164  00530D                       TIM2_ARRH  EQU      $530D         ; TIM2 auto-reload register high
                                                                ;          0xFF
 165  00530E                       TIM2_ARRL  EQU      $530E         ; TIM2 auto-reload register low 
                                                                ;          0xFF
 166  00530F                       TIM2_CCR1H  EQU      $530F         ; TIM2 capture/compare register 
                                                                ;1 high    0x00
 167  005310                       TIM2_CCR1L  EQU      $5310         ; TIM2 capture/compare register 
                                                                ;1 low     0x00
 168  005311                       TIM2_CCR2H  EQU      $5311         ; TIM2 capture/compare reg. 2 
                                                                ;high        0x00
 169  005312                       TIM2_CCR2L  EQU      $5312         ; TIM2 capture/compare register 
                                                                ;2 low     0x00
 170  005313                       TIM2_CCR3H  EQU      $5313         ; TIM2 capture/compare register 
                                                                ;3 high    0x00
 171  005314                       TIM2_CCR3L  EQU      $5314         ; TIM2 capture/compare register 
                                                                ;3 low     0x00
 172                         ;==========================
 173  005320                       TIM3_CR1  EQU      $5320         ;TIM3 control register 1 
 174  005321                       TIM3_IER  EQU      $5321         ;TIM3 interrupt enable register
 175  005322                       TIM3_SR1  EQU      $5322         ;TIM3 status register 1 
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 6  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 176  005323                       TIM3_SR2  EQU      $5323         ;TIM3 status register 2 
 177  005324                       TIM3_EGR  EQU      $5324         ;TIM3 event generation register 
                                                                ;
 178  005325                       TIM3_CCMR1  EQU      $5325         ;TIM3 capture/ compare mode 
                                                                ;register 1 
 179  005326                       TIM3_CCMR2  EQU      $5326         ;TIM3 capture/ compare mode 
                                                                ;register 2
 180  005327                       TIM3_CCER1  EQU      $5327         ;TIM3 capture/ compare enable 
                                                                ;register 1
 181  005328                       TIM3_CNTRH  EQU      $5328         ;TIM3 counter high
 182  005329                       TIM3_CNTRL  EQU      $5329         ;TIM3 counter low
 183  00532A                       TIM3_PSCR  EQU      $532A         ;TIM3 prescaler register 
 184  00532B                       TIM3_ARRH  EQU      $532B         ;TIM3 auto-reload register high
 185  00532C                       TIM3_ARRL  EQU      $532C         ;TIM3 auto-reload register low
 186  00532D                       TIM3_CCR1H  EQU      $532D         ;TIM3 capture/ compare register 
                                                                ;1 high
 187  00532E                       TIM3_CCR1L  EQU      $532E         ;TIM3 capture/ compare register 
                                                                ;1 low 
 188  00532F                       TIM3_CCR2H  EQU      $532F         ;TIM3 capture/ compare register 
                                                                ;2 high
 189  005330                       TIM3_CCR2L  EQU      $5330         ;TIM3 capture/ compare register 
                                                                ;2 low
 190                         ;==========================
 191  005340                       TIM4_CR1  EQU      $5340         ; TIM4 control register 1       
                                                                ;  0x00
 192  005341                       TIM4_IER  EQU      $5341         ; TIM4 interrupt enable register
                                                                ;  0x00
 193  005342                       TIM4_SR   EQU      $5342         ; TIM4 status register          
                                                                ;  0x00
 194  005343                       TIM4_EGR  EQU      $5343         ; TIM4 event generation register
                                                                ;  0x00
 195  005344                       TIM4_CNTR  EQU      $5344         ; TIM4 counter                  
                                                                ;  0x00
 196  005345                       TIM4_PSCR  EQU      $5345         ; TIM4 prescaler register       
                                                                ;  0x00
 197  005346                       TIM4_ARR  EQU      $5346         ; TIM4 auto-reload register     
                                                                ;  0xFF
 198                         
 199  000000                       CEN       EQU      0             ; Counter enable
 200  000001                       UDIS      EQU      1             ; Update disable
 201  000002                       URS       EQU      2             ; Update request source
 202  000003                       OPM       EQU      3             ; One pulse mode
 203  000007                       ARPE      EQU      7             ; Auto-reload preload enable
 204                         
 205  000000                       UIE       EQU      0             ; Update interrupt enable
 206  000006                       TIE       EQU      6             ; Trigger interrupt enable
 207                         
 208  000000                       UIF       EQU      0             ; Update interrupt flag
 209  000006                       TIF       EQU      6             ; Trigger interrupt flag TIM4 
                                                                ;this bit is reserved
 210                         
 211  000000                       UG        EQU      0             ; Update generation
 212  000006                       TG        EQU      6             ; Trigger generation
 213                         ;==========================
 214                         ;ADC_DBxR    $53E0-$53F3     ; ADC data buffer registers    
                               ;0x00
 215  005400                       ADC_CSR   EQU      $5400         ; ADC control/status register   
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 7  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

                                                                ;             0x00
 216  005401                       ADC_CR1   EQU      $5401         ; ADC configuration register 1  
                                                                ;             0x00
 217  005402                       ADC_CR2   EQU      $5402         ; ADC configuration register 2  
                                                                ;             0x00
 218  005403                       ADC_CR3   EQU      $5403         ; ADC configuration register 3  
                                                                ;             0x00
 219  005404                       ADC_DRH   EQU      $5404         ; ADC data register high        
                                                                ;             0xXX
 220  005405                       ADC_DRL   EQU      $5405         ; ADC data register low         
                                                                ;             0xXX
 221  005406                       ADC_TDRH  EQU      $5406         ; ADC Schmitt trigger disable 
                                                                ;register high  0x00
 222  005407                       ADC_TDRL  EQU      $5407         ; ADC Schmitt trigger disable 
                                                                ;register low   0x00
 223  005408                       ADC_HTRH  EQU      $5408         ; ADC high threshold register 
                                                                ;high           0x03
 224  005409                       ADC_HTRL  EQU      $5409         ; ADC high threshold register 
                                                                ;low            0xFF
 225  00540A                       ADC_LTRH  EQU      $540A         ; ADC low threshold register 
                                                                ;high            0x00
 226  00540B                       ADC_LTRL  EQU      $540B         ; ADC low threshold register low
                                                                ;             0x00
 227  00540C                       ADC_AWSRH  EQU      $540C         ; ADC analog watchdog status 
                                                                ;register high   0x00
 228  00540D                       ADC_AWSRL  EQU      $540D         ; ADC analog watchdog status 
                                                                ;register low    0x00
 229  00540E                       ADC_AWCRH  EQU      $540E         ; ADC analog watchdog control 
                                                                ;register high  0x00
 230  00540F                       ADC_AWCRL  EQU      $540F         ; ADC analog watchdog control 
                                                                ;register low   0x00
 231                         ;==========================
 232  007F60                       CFG_GCR   EQU      $7F60         ; Global configuration register 
                                                                ;          0x00
 233  007F70                       ITC_SPR1  EQU      $7F70         ; Interrupt software priority 
                                                                ;register 1  0xFF
 234  007F71                       ITC_SPR2  EQU      $7F71         ; Interrupt software priority 
                                                                ;register 2  0xFF
 235  007F72                       ITC_SPR3  EQU      $7F72         ; Interrupt software priority 
                                                                ;register 3  0xFF
 236  007F73                       ITC_SPR4  EQU      $7F73         ; Interrupt software priority 
                                                                ;register 4  0xFF
 237  007F74                       ITC_SPR5  EQU      $7F74         ; Interrupt software priority 
                                                                ;register 5  0xFF
 238  007F75                       ITC_SPR6  EQU      $7F75         ; Interrupt software priority 
                                                                ;register 6  0xFF
 239  007F76                       ITC_SPR7  EQU      $7F76         ; Interrupt software priority 
                                                                ;register 7  0xFF
 240  007F77                       ITC_SPR8  EQU      $7F77         ; Interrupt software priority 
                                                                ;register 8  0xFF
 241  007F80                       SWIM_CSR  EQU      $7F80         ; SWIM control status register  
                                                                ;          0x00
 242                         ;==========================
 243  007F0A                       CCR       EQU      $7F0A         ;
 244  007F05                       X_L       EQU      $7F05
 245  007F04                       X_H       EQU      $7F04
 246  007F07                       Y_L       EQU      $7F07
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 8  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 247  007F06                       Y_H       EQU      $7F06
 248  007F00                       ACC       EQU      $7F00
 249                         ;=======End===================================================
                               ;========
 250                         ;=======RAMMemory($0000-$07FF)================
 251  000000                       Temp      EQU      $0000
 252  000001                       Temp1     EQU      $0001
 253  000002                       Temp2     EQU      $0002
 254  000003                       Temp3     EQU      $0003
 255  000004                       Temp4     EQU      $0004 
 256  000005                       Temp5     EQU      $0005
 257  000006                       Temp6     EQU      $0006
 258  000007                       Temp7     EQU      $0007
 259  000008                       LvlLed    EQU      $0008
 260  000009                       BEEPSEL   EQU      $0009
 261  00000A                       BEEPDIV   EQU      $000A
 262  00000B                       SPIBuffer  EQU      $000B
 263  00000C                       CounterCycles  EQU      $000C
 264  00000D                       BufferCycles  EQU      $000D
 265  00000E                       EnableBEEP  EQU      $000E
 266  000011                       Key       EQU      $0011
 267                         ;****************************
 268  000012                       ProgrammFlags  EQU      $0012
 269  000000                       OverflowTim1  EQU      0
 270  000001                       OverflowTim2  EQU      1
 271  000002                       OverflowTim3  EQU      2
 272  000003                       OverflowTim4  EQU      3
 273  000004                       OKPress   EQU      4
 274  000005                       CancelPress  EQU      5
 275                         ;****************************
 276  000013                       WaitTime  EQU      $0013         
 277  000014                       Line1     EQU      $0014
 278  000015                       Line2     EQU      $0015
 279  000016                       Line3     EQU      $0016
 280  000017                       Line4     EQU      $0017
 281  000018                       OldLine1  EQU      $0018
 282  000019                       OldLine2  EQU      $0019
 283  00001A                       OldLine3  EQU      $001A
 284  00001B                       OldLine4  EQU      $001B
 285  00001C                       BufLine1  EQU      $001C
 286  00001D                       BufLine2  EQU      $001D
 287  00001E                       BufLine3  EQU      $001E
 288  00001F                       BufLine4  EQU      $001F
 289                         ;=============================================================
                               ;=========
 290                                   SEGMENT  'INTERRUPT'
 291  000000 R 00000000                      DC.L     {$82000000+StartSystem}  ; $8000    RESET Reset
 292  000004 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8004    TRAP  Software 
                                                                ;interrupt
 293  000008 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8008 0  TLI   External top 
                                                                ;level interrupt
 294  00000C R 00000000                      DC.L     {$82000000+NO_INT}  ; $800C 1  AWU   Auto wake up 
                                                                ;from HALT
 295  000010 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8010 2  CLK   Clock 
                                                                ;controller
 296  000014 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8014 3  EXTI0 Port A external
                                                                ; interrupts
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 9  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 297  000018 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8018 4  EXTI1 Port B external
                                                                ; interrupts
 298  00001C R 00000000                      DC.L     {$82000000+NO_INT}  ; $801C 5  EXTI2 Port C external
                                                                ; interrupts
 299  000020 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8020 6  EXTI3 Port D external
                                                                ; interrupts
 300  000024 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8024 7  EXTI4 Port E external
                                                                ; interrupts
 301  000028 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8028 8  Reserved
 302  00002C R 00000000                      DC.L     {$82000000+NO_INT}  ; $802C 9  Reserved
 303  000030 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8030 10 SPI  End of transfer
 304  000034 R 00000000                      DC.L     {$82000000+Timer1}  ; $8034 11 TIM1 TIM1 update/ 
                                                                ;overflow/ underflow/trigger/ 
                                                                ;break
 305  000038 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8038 12 TIM1 TIM1 capture/ 
                                                                ;compare
 306  00003C R 00000000                      DC.L     {$82000000+Timer2}  ; $803C 13 TIM2 TIM2 update/ 
                                                                ;overflow
 307  000040 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8040 14 TIM2 TIM2 capture/ 
                                                                ;compare
 308  000044 R 00000000                      DC.L     {$82000000+Timer3}  ; $8044 15 TIM3 TIM3 update/ 
                                                                ;overflow
 309  000048 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8048 16 TIM3 TIM3 capture/ 
                                                                ;compare
 310  00004C R 00000000                      DC.L     {$82000000+NO_INT}  ; $8058 20 Reserved
 311  000050 R 00000000                      DC.L     {$82000000+NO_INT}  ; $805C 21 Reserved
 312  000054 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8054 19 I2C interrupt
 313  000058 R 00000000                      DC.L     {$82000000+NO_INT}  ; $804C 17 UART1 Tx complete
 314  00005C R 00000000                      DC.L     {$82000000+NO_INT}  ; $8050 18 UART1 Receive 
                                                                ;register DATA FULL
 315  000060 R 00000000                      DC.L     {$82000000+ADCRead}  ; $8060 22 ADC1 ADC1 end of 
                                                                ;conversion/ analog watchdog 
                                                                ;interrupt
 316  000064 R 00000000                      DC.L     {$82000000+Timer4}   ; $8064 23 TIM4 TIM4 update/ 
                                                                ;overflow
 317  000068 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8068 24 Flash EOP/WR_PG_DIS
 318  00006C R 00000000                      DC.L     {$82000000+NO_INT}  ; $806C 25 Reserved
 319  000070 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8070 26 Reserved
 320  000074 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8074 27 Reserved
 321  000078 R 00000000                      DC.L     {$82000000+NO_INT}  ; $8078 28 Reserved
 322  00007C R 00000000                      DC.L     {$82000000+NO_INT}  ; $807C 29 Reserved
 323                         ;=============================================================
                               ;=========
 324                                   SEGMENT  'ROM'         
 325  000000                       EnableBEEP  MACRO    BDIV,BSEL     ;2 BITS,5 BITS(MAX=1E)
 326                                   LDW      X,BDIV
 327                                   LDW      Y,BSEL
 328                                   call     SetParametrsBEEP
 329  000000                                 MEND     
 330  000000                       DisableBEEP  MACRO    
 331                                   MOV      BEEP_CSR,#%00000000
 332  000000                                 MEND     
 333                         NO_INT.w:  
 334  000000   80                            IRET     
 335                         StartSystem.w:  
 336                         ;#############################################################
                               ;#############################################################
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 10  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

                               ;##############################
 337                         ;#############################################################
                               ;#############################################################
                               ;##############################
 338                         ;#############################################################
                               ;#############################################################
                               ;##############################
 339                         ;=InitMemory========
 340  000001   AE07FF                        LDW      X,#$07FF        
 341  000004   94                            LDW      SP,X
 342  000005   AE0000                        LDW      X,#$0000
 343                         ClearRam0:  
 344  000008   7F                            CLR      (X)
 345  000009   5C                            INCW     X
 346  00000A   A300FF                        CPW      X,#$00FF    
 347  00000D R 23F9                          JRULE    ClearRam0
 348  00000F   AE0100                        LDW      X,#$0100
 349                         ClearRam1:  
 350  000012   7F                            CLR      (X)
 351  000013   5C                            INCW     X
 352  000014   A301FF                        CPW      X,#$01FF    
 353  000017 R 23F9                          JRULE    ClearRam1
 354  000019   AE0200                        LDW      X,#$0200
 355                         ClearStack:  
 356  00001C   7F                            CLR      (X)
 357  00001D   5C                            INCW     X
 358  00001E   A303FF                        CPW      X,#$03FF
 359  000021 R 23F9                          JRULE    ClearStack
 360                         ;#############################################################
                               ;#############################################################
                               ;##############################
 361                         ;#############################################################
                               ;#############################################################
                               ;##############################
 362                         ;#############################################################
                               ;#############################################################
                               ;##############################
 363  000023 R CD0000                        call     InitSystemClock
 364  000026 R CD0000                        call     InitPortsIO
 365  000029 R CD0000                        call     InitTimers
 366  00002C R CD0000                        call     InitSPI
 367  00002F R CD0000                        call     InitADC
 368  000032   72140012                      BSET     ProgrammFlags,#OverflowTim3
 369  000036   9A                            RIM      
 370                         ;==============================
 371                         ;Основной цикл.
 372                         Main.W:   
 373  000037 R CD0000                        call     UpdateKeyboard
 374  00003A R CD0000                        call     HandlerButton
 375  00003D R CD0000                        call     FormationPWMLed
 376  000040 R CC0000                        JP       Main
 377                         ;==============================
 378                         HandlerButton:  
 379  000043 R 720F001403                    BTJF     Line1,#7,Next1
 380  000048 R CD0000                        call     HandlerButton1
 381                         Next1:    
 382  00004B R 720D001403                    BTJF     Line1,#6,Next2
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 11  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 383  000050 R CD0000                        call     HandlerButton2
 384                         Next2:    
 385  000053 R 720B001403                    BTJF     Line1,#5,Next3
 386  000058 R CD0000                        call     HandlerButton3
 387                         Next3:    
 388  00005B R 720F001503                    BTJF     Line2,#7,Next4
 389  000060 R CD0000                        call     HandlerButton4
 390                         Next4:    
 391  000063 R 720D001503                    BTJF     Line2,#6,Next5
 392  000068 R CD0000                        call     HandlerButton5
 393                         Next5:    
 394  00006B R 720B001503                    BTJF     Line2,#5,Next6
 395  000070 R CD0000                        call     HandlerButton6
 396                         Next6:    
 397  000073 R 720F001603                    BTJF     Line3,#7,Next7
 398  000078 R CD0000                        call     HandlerButton7
 399                         Next7:    
 400  00007B R 720D001603                    BTJF     Line3,#6,Next8
 401  000080 R CD0000                        call     HandlerButton8
 402                         Next8:    
 403  000083 R 720B001603                    BTJF     Line3,#5,Next9
 404  000088 R CD0000                        call     HandlerButton9
 405                         Next9:    
 406  00008B R 720F001703                    BTJF     Line4,#7,Next10
 407  000090 R CD0000                        call     HandlerButton10
 408                         Next10:   
 409  000093 R 720D001703                    BTJF     Line4,#6,Next11
 410  000098 R CD0000                        call     HandlerButton11
 411                         Next11:   
 412  00009B R 720B001703                    BTJF     Line4,#5,OutHandler
 413  0000A0 R CD0000                        call     HandlerButton12
 414                         OutHandler:  
 415  0000A3   81                            RET      
 416                         ;==============================
 417                         Delay.w:  
 418  0000A4   450D0C                        MOV      CounterCycles,BufferCycles
 419                         Label.w   
 420  0000A7   3A0C                          DEC      CounterCycles
 421  0000A9 R 26FC                          JRNE     Label
 422  0000AB   81                            RET      
 423                         ;==============================
 424                         UpdateKeyboard.w:  
 425  0000AC R 720600122F                    BTJT     ProgrammFlags,#OverflowTim4,ClearStatusKeyboard
 426                                                          ;Если флаг переполнения 
                                                                ;сброшен,
 427                                                          ;то продолжаем работу.
 428                                                          ;В противном случае-выход.
 429  0000B1   451C18                        MOV      OldLine1,BufLine1
 430  0000B4   451D19                        MOV      OldLine2,BufLine2
 431  0000B7   451E1A                        MOV      OldLine3,BufLine3
 432  0000BA   451F1B                        MOV      OldLine4,BufLine4
 433  0000BD R CD0000                        call     ReadKeyboard
 434  0000C0 R CD0000                        call     CheckLine
 435  0000C3   72160012                      BSET     ProgrammFlags,#OverflowTim4
 436  0000C7   81                            RET      
 437                         CheckLine:  
 438                                                          ;+++Проверка 1 линии+++
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 12  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 439  0000C8   B618                          LD       A,OldLine1             ;Сравнимаем состояние 
                                                                ;клавиатуры
 440  0000CA   B11C                          CP       A,BufLine1    ;до и после считывания.
 441  0000CC R 2623                          JRNE     WriteStatusKeyboard  ;Если значение не равно,
 442                                                          ;то записываем в Line1 состояние
                                                                ; 1 линии.
 443                                                          ;Если равно, то проверяем 
                                                                ;дальше.
 444                                                          ;+++Проверка 2 линии+++
 445  0000CE   B619                          LD       A,OldLine2
 446  0000D0   B11D                          CP       A,BufLine2
 447  0000D2 R 261D                          JRNE     WriteStatusKeyboard
 448                                                          ;+++Проверка 3 линии+++
 449  0000D4   B61A                          LD       A,OldLine3
 450  0000D6   B11E                          CP       A,BufLine3
 451  0000D8 R 2617                          JRNE     WriteStatusKeyboard
 452                                                          ;+++Проверка 4 линии+++
 453  0000DA   B61B                          LD       A,OldLine4
 454  0000DC   B11F                          CP       A,BufLine4
 455  0000DE R 2611                          JRNE     WriteStatusKeyboard
 456                                                          ;Обнуляем состояние клавиатуры,
 457                                                          ;если состояние клавиатуры не 
                                                                ;изменилось.
 458                         ClearStatusKeyboard:  
 459  0000E0   35080014                      MOV      Line1,#$08
 460  0000E4   35040015                      MOV      Line2,#$04
 461  0000E8   35020016                      MOV      Line3,#$02
 462  0000EC   35010017                      MOV      Line4,#$01
 463  0000F0   81                            RET      
 464                         WriteStatusKeyboard:  
 465                                                          ;Записываем текущее состояние 
                                                                ;клавиатуры,
 466                                                          ;если состояние клавиатуры 
                                                                ;изменилось.
 467  0000F1   451C14                        MOV      Line1,BufLine1
 468  0000F4   451D15                        MOV      Line2,BufLine2
 469  0000F7   451E16                        MOV      Line3,BufLine3
 470  0000FA   451F17                        MOV      Line4,BufLine4
 471  0000FD   81                            RET      
 472                         ;==============================
 473                         ;Обработчики кнопок.
 474                         HandlerButton1:  
 475                                                          ;//
 476  0000FE   35010008                      MOV      LvlLed,#$01
 477  000102   81                            RET      
 478                         HandlerButton2:  
 479                                                          ;//
 480  000103   35020008                      MOV      LvlLed,#$02
 481  000107   81                            RET      
 482                         HandlerButton3:  
 483                                                          ;//
 484  000108   35040008                      MOV      LvlLed,#$04
 485  00010C   81                            RET      
 486                         HandlerButton4:  
 487                                                          ;//
 488  00010D   35080008                      MOV      LvlLed,#$08
 489  000111   81                            RET      
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 13  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 490                         HandlerButton5:  
 491                                                          ;//
 492  000112   35100008                      MOV      LvlLed,#$10
 493  000116   81                            RET      
 494                         HandlerButton6:  
 495                                                          ;//
 496  000117   35200008                      MOV      LvlLed,#$20
 497  00011B   81                            RET      
 498                         HandlerButton7:  
 499                                                          ;//
 500  00011C   35400008                      MOV      LvlLed,#$40
 501  000120   81                            RET      
 502                         HandlerButton8:  
 503                                                          ;//
 504  000121   35800008                      MOV      LvlLed,#$80
 505  000125   81                            RET      
 506                         HandlerButton9:  
 507                                                          ;//	
 508  000126   35010008                      MOV      LvlLed,#$01
 509  00012A   81                            RET      
 510                         HandlerButton10:  
 511                                                          ;//
 512  00012B   35FE0008                      MOV      LvlLed,#$FE
 513  00012F   81                            RET      
 514                         HandlerButton11:  
 515                                                          ;//	
 516  000130   81                            RET      
 517                         HandlerButton12:  
 518                                                          ;//
 519  000131   81                            RET      
 520                         ;#######
 521                         ;Прерывание по переполнению таймера 1.
 522                         Timer1.w:  
 523  000132   72115255                      BRES     TIM1_SR1,#UIF
 524                                   
 525  000136   80                            IRET     
 526                         ;#######
 527                         ;Прерывание по переполнению таймера 2.
 528                         Timer2.w:  
 529  000137   72115302                      BRES     TIM2_SR1,#UIF
 530                                   
 531  00013B   80                            IRET     
 532                         ;#######
 533                         ;Прерывание по переполнению таймера 3.
 534                         Timer3.w:  
 535  00013C   72115322                      BRES     TIM3_SR1,#UIF
 536                         
 537  000140   80                            IRET     
 538                         ;#######
 539                         ;Прерывание по переполнению таймера 4.
 540                         Timer4.w:  
 541  000141   72115342                      BRES     TIM4_SR,#UIF
 542  000145 R 7206001201                    BTJT     ProgrammFlags,#OverflowTim4,IncWaitTime
 543  00014A   80                            IRET     
 544                         IncWaitTime:  
 545  00014B   3C13                          INC      WaitTime
 546  00014D   B613                          LD       A,WaitTime
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 14  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 547  00014F   A1FF                          CP       A,#$FF
 548  000151 R 2701                          JREQ     ResetFlag
 549  000153   80                            IRET     
 550                         ResetFlag:  
 551  000154   3F13                          CLR      WaitTime
 552  000156   72170012                      BRES     ProgrammFlags,#OverflowTim4
 553  00015A   80                            IRET     
 554                         ;#######
 555                         ;Прерывание после завершения конвертации ADC.
 556                         ADCRead.w:  
 557  00015B   5554050003                    MOV      Temp3,ADC_DRL
 558  000160   5554040004                    MOV      Temp4,ADC_DRH
 559  000165   80                            IRET     
 560                         ;#######
 561                         ;***********************************************************
 562                         
 563                         ;**************************
 564                         ;Инициализация портов    ;*
 565                         ;ввода-вывода.					 ;*
 566                         InitPortsIO.w:                   ;*
 567                         ;=============*6543***    *
 568  000166   35005002                      MOV      DDRA, #%00000000  ;   *
 569  00016A   35005003                      MOV      CR1A, #%00000000  ;   *
 570  00016E   35005000                      MOV      PORTA,#%00000000  ;   *
 571                         ;=============76543210    *
 572  000172   350F5007                      MOV      DDRB, #%00001111  ;   *
 573  000176   35EF5008                      MOV      CR1B, #%11101111  ;   *
 574  00017A   350F5005                      MOV      PORTB,#%00001111  ;   *
 575                         ;=============7654321*    *
 576  00017E   35D8500C                      MOV      DDRC, #%11011000  ;   *
 577  000182   35DC500D                      MOV      CR1C, #%11011100  ;   *
 578  000186   3500500A                      MOV      PORTC,#%00000000  ;   *
 579                         ;=============76543210    *
 580  00018A   35355011                      MOV      DDRD, #%00110101  ;   *
 581  00018E   35355012                      MOV      CR1D, #%00110101  ;   *
 582  000192   3501500F                      MOV      PORTD,#%00000001  ;   *
 583                         ;=============765*3210    *
 584  000196   35205016                      MOV      DDRE, #%00100000  ;   *
 585  00019A   35205017                      MOV      CR1E, #%00100000  ;   *
 586  00019E   35205014                      MOV      PORTE,#%00100000  ;   *
 587                         ;=============******10    *
 588  0001A2   35005020                      MOV      DDRG, #%00000000  ;   *
 589  0001A6   35005021                      MOV      CR1G, #%00000000  ;   *
 590  0001AA   3500501E                      MOV      PORTG,#%00000000  ;   *
 591  0001AE   81                            RET                    ;   *
 592                         ;**************************
 593                         
 594                         InitTimers.w:  
 595                         ;Инициализация и запуск таймеров.
 596                         ;**TIMER1******************#
 597  0001AF   35005260                      MOV      TIM1_PSCRH,#$00
 598  0001B3   35645261                      MOV      TIM1_PSCRL,#$64
 599  0001B7   35FF5262                      MOV      TIM1_ARRH, #$FF
 600  0001BB   35FF5263                      MOV      TIM1_ARRL, #$FF
 601  0001BF   35815250                      MOV      TIM1_CR1,  #%10000001
 602  0001C3   35015254                      MOV      TIM1_IER,  #%00000001
 603                         ;**TIMER2******************#
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 15  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 604  0001C7   3502530C                      MOV      TIM2_PSCR, #$02
 605  0001CB   35FF530D                      MOV      TIM2_ARRH, #$FF
 606  0001CF   35FF530E                      MOV      TIM2_ARRL, #$FF
 607  0001D3   35815300                      MOV      TIM2_CR1,  #%10000001
 608  0001D7   35015301                      MOV      TIM2_IER,  #%00000001
 609                         ;**TIMER3******************#
 610  0001DB   350E532A                      MOV      TIM3_PSCR, #$0E
 611  0001DF   35FF532B                      MOV      TIM3_ARRH, #$FF
 612  0001E3   35FF532C                      MOV      TIM3_ARRL, #$FF
 613  0001E7   35815320                      MOV      TIM3_CR1,  #%10000001
 614  0001EB   35015321                      MOV      TIM3_IER,  #%00000001
 615                         ;**TIMER4******************#
 616  0001EF   35035345                      MOV      TIM4_PSCR, #$03
 617  0001F3   35FF5346                      MOV      TIM4_ARR,  #$FF
 618  0001F7   35815340                      MOV      TIM4_CR1,  #%10000001
 619  0001FB   35015341                      MOV      TIM4_IER,  #%00000001
 620  0001FF   81                            RET      
 621                         ;**************************
 622                         InitSystemClock.w:  
 623                         ;Иницилазия и запуск системы тактирования.
 624  000200   350150C1                      MOV      CLK_ECKR,#$01            ;Включаем HSE
 625  000204   350250C5                      MOV      CLK_SWCR,#$02            ;Разрешаем переключение 
                                                                ;источника тактовой частоты
 626  000208   35FF50C7                      MOV      CLK_PCKENR1,#$FF
 627                         Looped:   
 628  00020C R 720350C1FB                    BTJF     CLK_ECKR,#1,Looped      ;Ждем готовности источника 
                                                                ;тактирования
 629  000211   350050C6                      MOV      CLK_CKDIVR,#$00          ;Предделитель равен нулю
 630  000215   35B450C4                      MOV      CLK_SWR,#$B4             ;Выбираем HSE источником 
                                                                ;тактовой частоты
 631                         Looped2:  
 632  000219 R 720750C5FB                    BTJF     CLK_SWCR,#3,Looped2     ;Ждем готовности переключения 	
 633  00021E   81                            RET      
 634                         ;**************************
 635                         InitSPI.w:  
 636                         ;Иницилазия SPI.
 637  00021F   35445200                      MOV      SPI_CR1,#%01000100
 638  000223   35035201                      MOV      SPI_CR2,#%00000011
 639  000227   35005204                      MOV      SPI_DR, #%00000000
 640  00022B   81                            RET      
 641                         ;**************************
 642                         InitADC.w:  
 643                         ;Инициализация и запуск ADC.
 644  00022C   35285400                      MOV      ADC_CSR,#%00101000
 645  000230   35425401                      MOV      ADC_CR1,#%01000010
 646  000234   35385402                      MOV      ADC_CR2,#%00111000
 647  000238   35005403                      MOV      ADC_CR3,#%00000000
 648  00023C   72105401                      BSET     ADC_CR1,#0
 649  000240   81                            RET      
 650                         ;**************************	
 651                         ;**************************
 652                         ReadKeyboard:  
 653                                                          ;Считывания состояния 
                                                                ;клавиатуры
 654  000241   35075005                      MOV      PORTB,#%00000111
 655  000245   555006001C                    MOV      BufLine1,PINB
 656  00024A   331C                          CPL      BufLine1
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 16  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

 657  00024C   9D                            NOP      
 658                                                          ;++++++++++++++++++++++++++
 659  00024D   350B5005                      MOV      PORTB,#%00001011
 660  000251   555006001D                    MOV      BufLine2,PINB
 661  000256   331D                          CPL      BufLine2
 662  000258   9D                            NOP      
 663                                                          ;++++++++++++++++++++++++++
 664  000259   350D5005                      MOV      PORTB,#%00001101
 665  00025D   555006001E                    MOV      BufLine3,PINB
 666  000262   331E                          CPL      BufLine3
 667  000264   9D                            NOP      
 668                                                          ;++++++++++++++++++++++++++
 669  000265   350E5005                      MOV      PORTB,#%00001110
 670  000269   555006001F                    MOV      BufLine4,PINB
 671  00026E   331F                          CPL      BufLine4
 672  000270   9D                            NOP      
 673                                                          ;++++++++++++++++++++++++++
 674  000271   81                            RET      
 675                         ;*******************************
 676                         FormationPWMLed:  
 677  000272   7211500F                      BRES     PORTD,#0
 678  000276   45080D                        MOV      BufferCycles,LvlLed
 679  000279 R CD0000                        call     Delay
 680                                   
 681  00027C   7210500F                      BSET     PORTD,#0
 682  000280   330D                          CPL      BufferCycles
 683  000282 R CD0000                        call     Delay
 684  000285   81                            RET      
 685                         ;**************************
 686                         ;**************************
 687                         ;***********************************
 688  000286                                 END      
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 17  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

Symbol Name                       Value     Call       Type  Scope      Rel.  Line  Privacy  Segment   Size  Bytes File

AWU_CSR1                              50F0         no  WORD  Internal   ABS    113  private  undef        0     0  -
AWU_APR                               50F1         no  WORD  Internal   ABS    114  private  undef        0     0  -
AWU_TBR                               50F2         no  WORD  Internal   ABS    115  private  undef        0     0  -
ARPE                                  0007         no  WORD  Internal   ABS    203  private  undef        0     0  -
ADC_CSR                               5400         no  WORD  Internal   ABS    215  private  undef        0     0  -
ADC_CR1                               5401         no  WORD  Internal   ABS    216  private  undef        0     0  -
ADC_CR2                               5402         no  WORD  Internal   ABS    217  private  undef        0     0  -
ADC_CR3                               5403         no  WORD  Internal   ABS    218  private  undef        0     0  -
ADC_DRH                               5404         no  WORD  Internal   ABS    219  private  undef        0     0  -
ADC_DRL                               5405         no  WORD  Internal   ABS    220  private  undef        0     0  -
ADC_TDRH                              5406         no  WORD  Internal   ABS    221  private  undef        0     0  -
ADC_TDRL                              5407         no  WORD  Internal   ABS    222  private  undef        0     0  -
ADC_HTRH                              5408         no  WORD  Internal   ABS    223  private  undef        0     0  -
ADC_HTRL                              5409         no  WORD  Internal   ABS    224  private  undef        0     0  -
ADC_LTRH                              540A         no  WORD  Internal   ABS    225  private  undef        0     0  -
ADC_LTRL                              540B         no  WORD  Internal   ABS    226  private  undef        0     0  -
ADC_AWSRH                             540C         no  WORD  Internal   ABS    227  private  undef        0     0  -
ADC_AWSRL                             540D         no  WORD  Internal   ABS    228  private  undef        0     0  -
ADC_AWCRH                             540E         no  WORD  Internal   ABS    229  private  undef        0     0  -
ADC_AWCRL                             540F         no  WORD  Internal   ABS    230  private  undef        0     0  -
ACC                                   7F00         no  WORD  Internal   ABS    248  private  undef        0     0  -
ADCRead                               015B         no  WORD  Internal   rel    556  private  text        11     0  -

BEEP_CSR                              50F3         no  WORD  Internal   ABS    116  private  undef        0     0  -
BEEPSEL                               0009         no  WORD  Internal   ABS    260  private  undef        0     0  -
BEEPDIV                               000A         no  WORD  Internal   ABS    261  private  undef        0     0  -
BufferCycles                          000D         no  WORD  Internal   ABS    264  private  undef        0     0  -
BufLine1                              001C         no  WORD  Internal   ABS    285  private  undef        0     0  -
BufLine2                              001D         no  WORD  Internal   ABS    286  private  undef        0     0  -
BufLine3                              001E         no  WORD  Internal   ABS    287  private  undef        0     0  -
BufLine4                              001F         no  WORD  Internal   ABS    288  private  undef        0     0  -

CR1A                                  5003         no  WORD  Internal   ABS     15  private  undef        0     0  -
CR2A                                  5004         no  WORD  Internal   ABS     16  private  undef        0     0  -
CR1B                                  5008         no  WORD  Internal   ABS     21  private  undef        0     0  -
CR2B                                  5009         no  WORD  Internal   ABS     22  private  undef        0     0  -
CR1C                                  500D         no  WORD  Internal   ABS     27  private  undef        0     0  -
CR2C                                  500E         no  WORD  Internal   ABS     28  private  undef        0     0  -
CR1D                                  5012         no  WORD  Internal   ABS     33  private  undef        0     0  -
CR2D                                  5013         no  WORD  Internal   ABS     34  private  undef        0     0  -
CR1E                                  5017         no  WORD  Internal   ABS     39  private  undef        0     0  -
CR2E                                  5018         no  WORD  Internal   ABS     40  private  undef        0     0  -
CR1G                                  5021         no  WORD  Internal   ABS     45  private  undef        0     0  -
CR2G                                  5022         no  WORD  Internal   ABS     46  private  undef        0     0  -
CLK_ICKR                              50C0         no  WORD  Internal   ABS     53  private  undef        0     0  -
CLK_ECKR                              50C1         no  WORD  Internal   ABS     54  private  undef        0     0  -
CLK_CMSR                              50C3         no  WORD  Internal   ABS     55  private  undef        0     0  -
CLK_SWR                               50C4         no  WORD  Internal   ABS     56  private  undef        0     0  -
CLK_SWCR                              50C5         no  WORD  Internal   ABS     57  private  undef        0     0  -
CLK_CKDIVR                            50C6         no  WORD  Internal   ABS     58  private  undef        0     0  -
CLK_PCKENR1                           50C7         no  WORD  Internal   ABS     59  private  undef        0     0  -
CLK_CSSR                              50C8         no  WORD  Internal   ABS     60  private  undef        0     0  -
CLK_CCOR                              50C9         no  WORD  Internal   ABS     61  private  undef        0     0  -
CLK_PCKENR2                           50CA         no  WORD  Internal   ABS     62  private  undef        0     0  -
CLK_CANCCR                            50CB         no  WORD  Internal   ABS     63  private  undef        0     0  -
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 18  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

CLK_HSITRIMR                          50CC         no  WORD  Internal   ABS     64  private  undef        0     0  -
CLK_SWIMCCR                           50CD         no  WORD  Internal   ABS     65  private  undef        0     0  -
CEN                                   0000         no  WORD  Internal   ABS    199  private  undef        0     0  -
CFG_GCR                               7F60         no  WORD  Internal   ABS    232  private  undef        0     0  -
CCR                                   7F0A         no  WORD  Internal   ABS    243  private  undef        0     0  -
CounterCycles                         000C         no  WORD  Internal   ABS    263  private  undef        0     0  -
CancelPress                           0005         no  WORD  Internal   ABS    274  private  undef        0     0  -
ClearRam0                             0008         no  WORD  Internal   rel    343  private  text        10     0  -
ClearRam1                             0012         no  WORD  Internal   rel    349  private  text        10     0  -
ClearStack                            001C         no  WORD  Internal   rel    355  private  text        27     0  -
CheckLine                             00C8         no  WORD  Internal   rel    437  private  text        24     0  -
ClearStatusKeyboard                   00E0         no  WORD  Internal   rel    458  private  text        17     0  -

DDRA                                  5002         no  WORD  Internal   ABS     14  private  undef        0     0  -
DDRB                                  5007         no  WORD  Internal   ABS     20  private  undef        0     0  -
DDRC                                  500C         no  WORD  Internal   ABS     26  private  undef        0     0  -
DDRD                                  5011         no  WORD  Internal   ABS     32  private  undef        0     0  -
DDRE                                  5016         no  WORD  Internal   ABS     38  private  undef        0     0  -
DDRG                                  5020         no  WORD  Internal   ABS     44  private  undef        0     0  -
Delay                                 00A4         no  WORD  Internal   rel    417  private  text         3     0  -

EXTI_CR1                              50A0         no  WORD  Internal   ABS     49  private  undef        0     0  -
EXTI_CR2                              50A1         no  WORD  Internal   ABS     50  private  undef        0     0  -
EnableBEEP                            000E         no  WORD  Internal   ABS    265  private  undef        0     0  -

FLASH_CR1                             505A         no  WORD  Internal   ABS     99  private  undef        0     0  -
FLASH_CR2                             505B         no  WORD  Internal   ABS    100  private  undef        0     0  -
FLASH_NCR2                            505C         no  WORD  Internal   ABS    101  private  undef        0     0  -
FLASH_FPR                             505D         no  WORD  Internal   ABS    102  private  undef        0     0  -
FLASH_NFPR                            505E         no  WORD  Internal   ABS    103  private  undef        0     0  -
FLASH_IAPSR                           505F         no  WORD  Internal   ABS    104  private  undef        0     0  -
FLASH_PUKR                            5062         no  WORD  Internal   ABS    105  private  undef        0     0  -
FLASH_DUKR                            5064         no  WORD  Internal   ABS    106  private  undef        0     0  -
FormationPWMLed                       0272         no  WORD  Internal   rel    676  private  text        20     0  -

HandlerButton                         0043         no  WORD  Internal   rel    378  private  text         8     0  -
HandlerButton1                        00FE         no  WORD  Internal   rel    474  private  text         5     0  -
HandlerButton2                        0103         no  WORD  Internal   rel    478  private  text         5     0  -
HandlerButton3                        0108         no  WORD  Internal   rel    482  private  text         5     0  -
HandlerButton4                        010D         no  WORD  Internal   rel    486  private  text         5     0  -
HandlerButton5                        0112         no  WORD  Internal   rel    490  private  text         5     0  -
HandlerButton6                        0117         no  WORD  Internal   rel    494  private  text         5     0  -
HandlerButton7                        011C         no  WORD  Internal   rel    498  private  text         5     0  -
HandlerButton8                        0121         no  WORD  Internal   rel    502  private  text         5     0  -
HandlerButton9                        0126         no  WORD  Internal   rel    506  private  text         5     0  -
HandlerButton10                       012B         no  WORD  Internal   rel    510  private  text         5     0  -
HandlerButton11                       0130         no  WORD  Internal   rel    514  private  text         1     0  -
HandlerButton12                       0131         no  WORD  Internal   rel    517  private  text         1     0  -

ILIEN                                 0004         no  WORD  Internal   ABS     83  private  undef        0     0  -
IWDG_KR                               50E0         no  WORD  Internal   ABS    110  private  undef        0     0  -
IWDG_PR                               50E1         no  WORD  Internal   ABS    111  private  undef        0     0  -
IWDG_RLR                              50E2         no  WORD  Internal   ABS    112  private  undef        0     0  -
ITC_SPR1                              7F70         no  WORD  Internal   ABS    233  private  undef        0     0  -
ITC_SPR2                              7F71         no  WORD  Internal   ABS    234  private  undef        0     0  -
ITC_SPR3                              7F72         no  WORD  Internal   ABS    235  private  undef        0     0  -
ITC_SPR4                              7F73         no  WORD  Internal   ABS    236  private  undef        0     0  -
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 19  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

ITC_SPR5                              7F74         no  WORD  Internal   ABS    237  private  undef        0     0  -
ITC_SPR6                              7F75         no  WORD  Internal   ABS    238  private  undef        0     0  -
ITC_SPR7                              7F76         no  WORD  Internal   ABS    239  private  undef        0     0  -
ITC_SPR8                              7F77         no  WORD  Internal   ABS    240  private  undef        0     0  -
IncWaitTime                           014B         no  WORD  Internal   rel    544  private  text         9     0  -
InitPortsIO                           0166         no  WORD  Internal   rel    566  private  text        73     0  -
InitTimers                            01AF         no  WORD  Internal   rel    594  private  text        81     0  -
InitSystemClock                       0200         no  WORD  Internal   rel    622  private  text        12     0  -
InitSPI                               021F         no  WORD  Internal   rel    635  private  text        13     0  -
InitADC                               022C         no  WORD  Internal   rel    642  private  text        21     0  -

Key                                   0011         no  WORD  Internal   ABS    266  private  undef        0     0  -

LvlLed                                0008         no  WORD  Internal   ABS    259  private  undef        0     0  -
Line1                                 0014         no  WORD  Internal   ABS    277  private  undef        0     0  -
Line2                                 0015         no  WORD  Internal   ABS    278  private  undef        0     0  -
Line3                                 0016         no  WORD  Internal   ABS    279  private  undef        0     0  -
Line4                                 0017         no  WORD  Internal   ABS    280  private  undef        0     0  -
Label                                 00A7         no  WORD  Internal   rel    419  private  text         5     0  -
Looped                                020C         no  WORD  Internal   rel    627  private  text        13     0  -
Looped2                               0219         no  WORD  Internal   rel    631  private  text         6     0  -

Main                                  0037         no  WORD  Internal   rel    372  private  text        12     0  -

NO_INT                                0000         no  WORD  Internal   rel    333  private  text         1     0  -
Next1                                 004B         no  WORD  Internal   rel    381  private  text         8     0  -
Next2                                 0053         no  WORD  Internal   rel    384  private  text         8     0  -
Next3                                 005B         no  WORD  Internal   rel    387  private  text         8     0  -
Next4                                 0063         no  WORD  Internal   rel    390  private  text         8     0  -
Next5                                 006B         no  WORD  Internal   rel    393  private  text         8     0  -
Next6                                 0073         no  WORD  Internal   rel    396  private  text         8     0  -
Next7                                 007B         no  WORD  Internal   rel    399  private  text         8     0  -
Next8                                 0083         no  WORD  Internal   rel    402  private  text         8     0  -
Next9                                 008B         no  WORD  Internal   rel    405  private  text         8     0  -
Next10                                0093         no  WORD  Internal   rel    408  private  text         8     0  -
Next11                                009B         no  WORD  Internal   rel    411  private  text         8     0  -

OPM                                   0003         no  WORD  Internal   ABS    202  private  undef        0     0  -
OverflowTim1                          0000         no  WORD  Internal   ABS    269  private  undef        0     0  -
OverflowTim2                          0001         no  WORD  Internal   ABS    270  private  undef        0     0  -
OverflowTim3                          0002         no  WORD  Internal   ABS    271  private  undef        0     0  -
OverflowTim4                          0003         no  WORD  Internal   ABS    272  private  undef        0     0  -
OKPress                               0004         no  WORD  Internal   ABS    273  private  undef        0     0  -
OldLine1                              0018         no  WORD  Internal   ABS    281  private  undef        0     0  -
OldLine2                              0019         no  WORD  Internal   ABS    282  private  undef        0     0  -
OldLine3                              001A         no  WORD  Internal   ABS    283  private  undef        0     0  -
OldLine4                              001B         no  WORD  Internal   ABS    284  private  undef        0     0  -
OutHandler                            00A3         no  WORD  Internal   rel    414  private  text         1     0  -

PORTA                                 5000         no  WORD  Internal   ABS     12  private  undef        0     0  -
PINA                                  5001         no  WORD  Internal   ABS     13  private  undef        0     0  -
PORTB                                 5005         no  WORD  Internal   ABS     18  private  undef        0     0  -
PINB                                  5006         no  WORD  Internal   ABS     19  private  undef        0     0  -
PORTC                                 500A         no  WORD  Internal   ABS     24  private  undef        0     0  -
PINC                                  500B         no  WORD  Internal   ABS     25  private  undef        0     0  -
PORTD                                 500F         no  WORD  Internal   ABS     30  private  undef        0     0  -
PIND                                  5010         no  WORD  Internal   ABS     31  private  undef        0     0  -
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 20  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

PORTE                                 5014         no  WORD  Internal   ABS     36  private  undef        0     0  -
PINE                                  5015         no  WORD  Internal   ABS     37  private  undef        0     0  -
PORTG                                 501E         no  WORD  Internal   ABS     42  private  undef        0     0  -
PING                                  501F         no  WORD  Internal   ABS     43  private  undef        0     0  -
ProgrammFlags                         0012         no  WORD  Internal   ABS    268  private  undef        0     0  -

RST_SR                                50B3         no  WORD  Internal   ABS     51  private  undef        0     0  -
RWU                                   0001         no  WORD  Internal   ABS     80  private  undef        0     0  -
REN                                   0002         no  WORD  Internal   ABS     81  private  undef        0     0  -
RIEN                                  0005         no  WORD  Internal   ABS     84  private  undef        0     0  -
ResetFlag                             0154         no  WORD  Internal   rel    550  private  text         7     0  -
ReadKeyboard                          0241         no  WORD  Internal   rel    652  private  text        49     0  -

SBK                                   0000         no  WORD  Internal   ABS     79  private  undef        0     0  -
SPI_CR1                               5200         no  WORD  Internal   ABS     90  private  undef        0     0  -
SPI_CR2                               5201         no  WORD  Internal   ABS     91  private  undef        0     0  -
SPI_ICR                               5202         no  WORD  Internal   ABS     92  private  undef        0     0  -
SPI_SR                                5203         no  WORD  Internal   ABS     93  private  undef        0     0  -
SPI_DR                                5204         no  WORD  Internal   ABS     94  private  undef        0     0  -
SPI_CRCPR                             5205         no  WORD  Internal   ABS     95  private  undef        0     0  -
SPI_RXCRCR                            5206         no  WORD  Internal   ABS     96  private  undef        0     0  -
SPI_TXCRCR                            5207         no  WORD  Internal   ABS     97  private  undef        0     0  -
SWIM_CSR                              7F80         no  WORD  Internal   ABS    241  private  undef        0     0  -
SPIBuffer                             000B         no  WORD  Internal   ABS    262  private  undef        0     0  -
StartSystem                           0001         no  WORD  Internal   rel    335  private  text         7     0  -

TEN                                   0003         no  WORD  Internal   ABS     82  private  undef        0     0  -
TCIEN                                 0006         no  WORD  Internal   ABS     85  private  undef        0     0  -
TIEN                                  0007         no  WORD  Internal   ABS     86  private  undef        0     0  -
TC                                    0006         no  WORD  Internal   ABS     88  private  undef        0     0  -
TIM1_CR1                              5250         no  WORD  Internal   ABS    118  private  undef        0     0  -
TIM1_CR2                              5251         no  WORD  Internal   ABS    119  private  undef        0     0  -
TIM1_SMCR                             5252         no  WORD  Internal   ABS    120  private  undef        0     0  -
TIM1_ETR                              5253         no  WORD  Internal   ABS    121  private  undef        0     0  -
TIM1_IER                              5254         no  WORD  Internal   ABS    122  private  undef        0     0  -
TIM1_SR1                              5255         no  WORD  Internal   ABS    123  private  undef        0     0  -
TIM1_SR2                              5256         no  WORD  Internal   ABS    124  private  undef        0     0  -
TIM1_EGR                              5257         no  WORD  Internal   ABS    125  private  undef        0     0  -
TIM1_CCMR1                            5258         no  WORD  Internal   ABS    126  private  undef        0     0  -
TIM1_CCMR2                            5259         no  WORD  Internal   ABS    127  private  undef        0     0  -
TIM1_CCMR3                            525A         no  WORD  Internal   ABS    128  private  undef        0     0  -
TIM1_CCMR4                            525B         no  WORD  Internal   ABS    129  private  undef        0     0  -
TIM1_CCER1                            525C         no  WORD  Internal   ABS    130  private  undef        0     0  -
TIM1_CCER2                            525D         no  WORD  Internal   ABS    131  private  undef        0     0  -
TIM1_CNTRH                            525E         no  WORD  Internal   ABS    132  private  undef        0     0  -
TIM1_CNTRL                            525F         no  WORD  Internal   ABS    133  private  undef        0     0  -
TIM1_PSCRH                            5260         no  WORD  Internal   ABS    134  private  undef        0     0  -
TIM1_PSCRL                            5261         no  WORD  Internal   ABS    135  private  undef        0     0  -
TIM1_ARRH                             5262         no  WORD  Internal   ABS    136  private  undef        0     0  -
TIM1_ARRL                             5263         no  WORD  Internal   ABS    137  private  undef        0     0  -
TIM1_RCR                              5264         no  WORD  Internal   ABS    138  private  undef        0     0  -
TIM1_CCR1H                            5265         no  WORD  Internal   ABS    139  private  undef        0     0  -
TIM1_CCR1L                            5266         no  WORD  Internal   ABS    140  private  undef        0     0  -
TIM1_CCR2H                            5267         no  WORD  Internal   ABS    141  private  undef        0     0  -
TIM1_CCR2L                            5268         no  WORD  Internal   ABS    142  private  undef        0     0  -
TIM1_CCR3H                            5269         no  WORD  Internal   ABS    143  private  undef        0     0  -
TIM1_CCR3L                            526A         no  WORD  Internal   ABS    144  private  undef        0     0  -
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 21  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

TIM1_CCR4H                            526B         no  WORD  Internal   ABS    145  private  undef        0     0  -
TIM1_CCR4L                            526C         no  WORD  Internal   ABS    146  private  undef        0     0  -
TIM1_BKR                              526D         no  WORD  Internal   ABS    147  private  undef        0     0  -
TIM1_DTR                              526E         no  WORD  Internal   ABS    148  private  undef        0     0  -
TIM1_OISR                             526F         no  WORD  Internal   ABS    149  private  undef        0     0  -
TIM2_CR1                              5300         no  WORD  Internal   ABS    151  private  undef        0     0  -
TIM2_IER                              5301         no  WORD  Internal   ABS    152  private  undef        0     0  -
TIM2_SR1                              5302         no  WORD  Internal   ABS    153  private  undef        0     0  -
TIM2_SR2                              5303         no  WORD  Internal   ABS    154  private  undef        0     0  -
TIM2_EGR                              5304         no  WORD  Internal   ABS    155  private  undef        0     0  -
TIM2_CCMR1                            5305         no  WORD  Internal   ABS    156  private  undef        0     0  -
TIM2_CCMR2                            5306         no  WORD  Internal   ABS    157  private  undef        0     0  -
TIM2_CCMR3                            5307         no  WORD  Internal   ABS    158  private  undef        0     0  -
TIM2_CCER1                            5308         no  WORD  Internal   ABS    159  private  undef        0     0  -
TIM2_CCER2                            5309         no  WORD  Internal   ABS    160  private  undef        0     0  -
TIM2_CNTRH                            530A         no  WORD  Internal   ABS    161  private  undef        0     0  -
TIM2_CNTRL                            530B         no  WORD  Internal   ABS    162  private  undef        0     0  -
TIM2_PSCR                             530C         no  WORD  Internal   ABS    163  private  undef        0     0  -
TIM2_ARRH                             530D         no  WORD  Internal   ABS    164  private  undef        0     0  -
TIM2_ARRL                             530E         no  WORD  Internal   ABS    165  private  undef        0     0  -
TIM2_CCR1H                            530F         no  WORD  Internal   ABS    166  private  undef        0     0  -
TIM2_CCR1L                            5310         no  WORD  Internal   ABS    167  private  undef        0     0  -
TIM2_CCR2H                            5311         no  WORD  Internal   ABS    168  private  undef        0     0  -
TIM2_CCR2L                            5312         no  WORD  Internal   ABS    169  private  undef        0     0  -
TIM2_CCR3H                            5313         no  WORD  Internal   ABS    170  private  undef        0     0  -
TIM2_CCR3L                            5314         no  WORD  Internal   ABS    171  private  undef        0     0  -
TIM3_CR1                              5320         no  WORD  Internal   ABS    173  private  undef        0     0  -
TIM3_IER                              5321         no  WORD  Internal   ABS    174  private  undef        0     0  -
TIM3_SR1                              5322         no  WORD  Internal   ABS    175  private  undef        0     0  -
TIM3_SR2                              5323         no  WORD  Internal   ABS    176  private  undef        0     0  -
TIM3_EGR                              5324         no  WORD  Internal   ABS    177  private  undef        0     0  -
TIM3_CCMR1                            5325         no  WORD  Internal   ABS    178  private  undef        0     0  -
TIM3_CCMR2                            5326         no  WORD  Internal   ABS    179  private  undef        0     0  -
TIM3_CCER1                            5327         no  WORD  Internal   ABS    180  private  undef        0     0  -
TIM3_CNTRH                            5328         no  WORD  Internal   ABS    181  private  undef        0     0  -
TIM3_CNTRL                            5329         no  WORD  Internal   ABS    182  private  undef        0     0  -
TIM3_PSCR                             532A         no  WORD  Internal   ABS    183  private  undef        0     0  -
TIM3_ARRH                             532B         no  WORD  Internal   ABS    184  private  undef        0     0  -
TIM3_ARRL                             532C         no  WORD  Internal   ABS    185  private  undef        0     0  -
TIM3_CCR1H                            532D         no  WORD  Internal   ABS    186  private  undef        0     0  -
TIM3_CCR1L                            532E         no  WORD  Internal   ABS    187  private  undef        0     0  -
TIM3_CCR2H                            532F         no  WORD  Internal   ABS    188  private  undef        0     0  -
TIM3_CCR2L                            5330         no  WORD  Internal   ABS    189  private  undef        0     0  -
TIM4_CR1                              5340         no  WORD  Internal   ABS    191  private  undef        0     0  -
TIM4_IER                              5341         no  WORD  Internal   ABS    192  private  undef        0     0  -
TIM4_SR                               5342         no  WORD  Internal   ABS    193  private  undef        0     0  -
TIM4_EGR                              5343         no  WORD  Internal   ABS    194  private  undef        0     0  -
TIM4_CNTR                             5344         no  WORD  Internal   ABS    195  private  undef        0     0  -
TIM4_PSCR                             5345         no  WORD  Internal   ABS    196  private  undef        0     0  -
TIM4_ARR                              5346         no  WORD  Internal   ABS    197  private  undef        0     0  -
TIE                                   0006         no  WORD  Internal   ABS    206  private  undef        0     0  -
TIF                                   0006         no  WORD  Internal   ABS    209  private  undef        0     0  -
TG                                    0006         no  WORD  Internal   ABS    212  private  undef        0     0  -
Temp                                  0000         no  WORD  Internal   ABS    251  private  undef        0     0  -
Temp1                                 0001         no  WORD  Internal   ABS    252  private  undef        0     0  -
Temp2                                 0002         no  WORD  Internal   ABS    253  private  undef        0     0  -
Temp3                                 0003         no  WORD  Internal   ABS    254  private  undef        0     0  -
STMicroelectronics assembler v4.52   (C)1987-2013   Sat May 18 14:37:18 2013
Page 22  Assembler
                                               e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm

Temp4                                 0004         no  WORD  Internal   ABS    255  private  undef        0     0  -
Temp5                                 0005         no  WORD  Internal   ABS    256  private  undef        0     0  -
Temp6                                 0006         no  WORD  Internal   ABS    257  private  undef        0     0  -
Temp7                                 0007         no  WORD  Internal   ABS    258  private  undef        0     0  -
Timer1                                0132         no  WORD  Internal   rel    522  private  text         5     0  -
Timer2                                0137         no  WORD  Internal   rel    528  private  text         5     0  -
Timer3                                013C         no  WORD  Internal   rel    534  private  text         5     0  -
Timer4                                0141         no  WORD  Internal   rel    540  private  text        10     0  -

UART1_SR                              5230         no  WORD  Internal   ABS     67  private  undef        0     0  -
UART1_DR                              5231         no  WORD  Internal   ABS     68  private  undef        0     0  -
UART1_BRR1                            5232         no  WORD  Internal   ABS     69  private  undef        0     0  -
UART1_BRR2                            5233         no  WORD  Internal   ABS     70  private  undef        0     0  -
UART1_CR1                             5234         no  WORD  Internal   ABS     71  private  undef        0     0  -
UART1_CR2                             5235         no  WORD  Internal   ABS     72  private  undef        0     0  -
UART1_CR3                             5236         no  WORD  Internal   ABS     73  private  undef        0     0  -
UART1_CR4                             5237         no  WORD  Internal   ABS     74  private  undef        0     0  -
UART1_CR5                             5238         no  WORD  Internal   ABS     75  private  undef        0     0  -
UART1_GTR                             5239         no  WORD  Internal   ABS     76  private  undef        0     0  -
UART1_PSCR                            523A         no  WORD  Internal   ABS     77  private  undef        0     0  -
UDIS                                  0001         no  WORD  Internal   ABS    200  private  undef        0     0  -
URS                                   0002         no  WORD  Internal   ABS    201  private  undef        0     0  -
UIE                                   0000         no  WORD  Internal   ABS    205  private  undef        0     0  -
UIF                                   0000         no  WORD  Internal   ABS    208  private  undef        0     0  -
UG                                    0000         no  WORD  Internal   ABS    211  private  undef        0     0  -
UpdateKeyboard                        00AC         no  WORD  Internal   rel    424  private  text        28     0  -

WWDG_CR                               50D1         no  WORD  Internal   ABS    108  private  undef        0     0  -
WWDG_WR                               50D2         no  WORD  Internal   ABS    109  private  undef        0     0  -
WaitTime                              0013         no  WORD  Internal   ABS    276  private  undef        0     0  -
WriteStatusKeyboard                   00F1         no  WORD  Internal   rel    464  private  text        13     0  -

X_L                                   7F05         no  WORD  Internal   ABS    244  private  undef        0     0  -
X_H                                   7F04         no  WORD  Internal   ABS    245  private  undef        0     0  -

Y_L                                   7F07         no  WORD  Internal   ABS    246  private  undef        0     0  -
Y_H                                   7F06         no  WORD  Internal   ABS    247  private  undef        0     0  -


300 labels
No errors on assembly of 'e:\stm_project\stm8s105c6t6\assembler\project_1\main.asm'